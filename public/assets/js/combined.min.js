function setCookie(e,t,n){var i=new Date,o=new Date;null!=n&&0!==n||(n=1),o.setTime(i.getTime()+864e5*n),document.cookie=e+"="+escape(t)+";expires="+o.toGMTString()}function getCookie(e){var t="; "+document.cookie,n=t.split("; "+e+"=");if(2===n.length)return n.pop().split(";").shift()}function toggleDarkness(e){void 0===e&&(e="true"!==getCookie("darkMode")),setCookie("darkMode",e,1),location.reload()}function joinTheDarkSide(e,t){var n=new Date,i=Number(n.getHours()+""+("0"+n.getMinutes()).slice(-2)),o=null!==getCookie("darkMode")&&getCookie("darkMode");if(i<e||i>t){var r=null!==getCookie("askedDark")&&getCookie("askedDark");o||r||(setCookie("askedDark",!0,.25),toggleDarkness(confirm("Looks like it‚Äôs getting late! Want to turn on dark mode?")))}else{var a=null!==getCookie("askedLight")&&getCookie("askedLight");o&&!a&&(setCookie("askedLight",!0,.25),toggleDarkness(confirm("Looks like the sun is shining! Want to turn off dark mode?")))}console.log("üïê "+i+" | üòé "+o),setTimeout(joinTheDarkSide,12e4,e,t)}function sunTimes(e){var t=700,n=2e3;if(e){var i=e.coords.latitude,o=e.coords.longitude,r=SunCalc.getTimes(new Date,i,o);t=Number(r.sunrise.getHours()+""+r.sunrise.getMinutes()),n=Number(r.sunset.getHours()+""+r.sunset.getMinutes())}console.log("‚òÄÔ∏è "+t+" | üåô "+n),joinTheDarkSide(t,n)}!function(e,t){var n=function(e,t){"use strict";if(t.getElementsByClassName){var n,i=t.documentElement,o=e.Date,r=e.HTMLPictureElement,a=e.addEventListener,s=e.setTimeout,c=e.requestAnimationFrame||s,l=e.requestIdleCallback,u=/^picture$/i,d=["load","error","lazyincluded","_lazyloaded"],f={},g=Array.prototype.forEach,m=function(e,t){return f[t]||(f[t]=new RegExp("(\\s|^)"+t+"(\\s|$)")),f[t].test(e.getAttribute("class")||"")&&f[t]},p=function(e,t){m(e,t)||e.setAttribute("class",(e.getAttribute("class")||"").trim()+" "+t)},h=function(e,t){var n;(n=m(e,t))&&e.setAttribute("class",(e.getAttribute("class")||"").replace(n," "))},v=function(e,t,n){var i=n?"addEventListener":"removeEventListener";n&&v(e,t),d.forEach(function(n){e[i](n,t)})},y=function(e,n,i,o,r){var a=t.createEvent("CustomEvent");return a.initCustomEvent(n,!o,!r,i||{}),e.dispatchEvent(a),a},b=function(t,i){var o;!r&&(o=e.picturefill||n.pf)?o({reevaluate:!0,elements:[t]}):i&&i.src&&(t.src=i.src)},w=function(e,t){return(getComputedStyle(e,null)||{})[t]},k=function(e,t,i){for(i=i||e.offsetWidth;i<n.minSize&&t&&!e._lazysizesWidth;)i=t.offsetWidth,t=t.parentNode;return i},C=function(){var e,n,i=[],o=[],r=i,a=function(){var t=r;for(r=i.length?o:i,e=!0,n=!1;t.length;)t.shift()();e=!1},l=function(i,o){e&&!o?i.apply(this,arguments):(r.push(i),n||(n=!0,(t.hidden?s:c)(a)))};return l._lsFlush=a,l}(),z=function(e,t){return t?function(){C(e)}:function(){var t=this,n=arguments;C(function(){e.apply(t,n)})}},A=function(e){var t,n=0,i=666,r=function(){t=!1,n=o.now(),e()},a=l?function(){l(r,{timeout:i}),666!==i&&(i=666)}:z(function(){s(r)},!0);return function(e){var r;(e=e===!0)&&(i=44),t||(t=!0,r=125-(o.now()-n),r<0&&(r=0),e||r<9&&l?a():s(a,r))}},x=function(e){var t,n,i=function(){t=null,e()},r=function(){var e=o.now()-n;e<99?s(r,99-e):(l||i)(i)};return function(){n=o.now(),t||(t=s(r,99))}},E=function(){var r,c,l,d,f,k,E,T,S,L,N,D,j,W,O,P=/^img$/i,F=/^iframe$/i,I="onscroll"in e&&!/glebot/.test(navigator.userAgent),H=0,_=0,R=-1,B=function(e){_--,e&&e.target&&v(e.target,B),(!e||_<0||!e.target)&&(_=0)},q=function(e,n){var o,r=e,a="hidden"==w(t.body,"visibility")||"hidden"!=w(e,"visibility");for(S-=n,D+=n,L-=n,N+=n;a&&(r=r.offsetParent)&&r!=t.body&&r!=i;)(a=(w(r,"opacity")||1)>0)&&"visible"!=w(r,"overflow")&&(o=r.getBoundingClientRect(),a=N>o.left&&L<o.right&&D>o.top-1&&S<o.bottom+1);return a},$=function(){var e,o,a,s,u,d,g,m,p;if((f=n.loadMode)&&_<8&&(e=r.length)){o=0,R++,null==W&&("expand"in n||(n.expand=i.clientHeight>500&&i.clientWidth>500?500:370),j=n.expand,W=j*n.expFactor),H<W&&_<1&&R>2&&f>2&&!t.hidden?(H=W,R=0):H=f>1&&R>1&&_<6?j:0;for(;o<e;o++)if(r[o]&&!r[o]._lazyRace)if(I)if((m=r[o].getAttribute("data-expand"))&&(d=1*m)||(d=H),p!==d&&(E=innerWidth+d*O,T=innerHeight+d,g=d*-1,p=d),a=r[o].getBoundingClientRect(),(D=a.bottom)>=g&&(S=a.top)<=T&&(N=a.right)>=g*O&&(L=a.left)<=E&&(D||N||L||S)&&(l&&_<3&&!m&&(f<3||R<4)||q(r[o],d))){if(X(r[o]),u=!0,_>9)break}else!u&&l&&!s&&_<4&&R<4&&f>2&&(c[0]||n.preloadAfterLoad)&&(c[0]||!m&&(D||N||L||S||"auto"!=r[o].getAttribute(n.sizesAttr)))&&(s=c[0]||r[o]);else X(r[o]);s&&!u&&X(s)}},G=A($),K=function(e){p(e.target,n.loadedClass),h(e.target,n.loadingClass),v(e.target,Y)},U=z(K),Y=function(e){U({target:e.target})},Q=function(e,t){try{e.contentWindow.location.replace(t)}catch(n){e.src=t}},J=function(e){var t,i,o=e.getAttribute(n.srcsetAttr);(t=n.customMedia[e.getAttribute("data-media")||e.getAttribute("media")])&&e.setAttribute("media",t),o&&e.setAttribute("srcset",o),t&&(i=e.parentNode,i.insertBefore(e.cloneNode(),e),i.removeChild(e))},V=z(function(e,t,i,o,r){var a,c,l,f,m,w;(m=y(e,"lazybeforeunveil",t)).defaultPrevented||(o&&(i?p(e,n.autosizesClass):e.setAttribute("sizes",o)),c=e.getAttribute(n.srcsetAttr),a=e.getAttribute(n.srcAttr),r&&(l=e.parentNode,f=l&&u.test(l.nodeName||"")),w=t.firesLoad||"src"in e&&(c||a||f),m={target:e},w&&(v(e,B,!0),clearTimeout(d),d=s(B,2500),p(e,n.loadingClass),v(e,Y,!0)),f&&g.call(l.getElementsByTagName("source"),J),c?e.setAttribute("srcset",c):a&&!f&&(F.test(e.nodeName)?Q(e,a):e.src=a),(c||f)&&b(e,{src:a})),e._lazyRace&&delete e._lazyRace,h(e,n.lazyClass),C(function(){(!w||e.complete&&e.naturalWidth>1)&&(w?B(m):_--,K(m))},!0)}),X=function(e){var t,i=P.test(e.nodeName),o=i&&(e.getAttribute(n.sizesAttr)||e.getAttribute("sizes")),r="auto"==o;(!r&&l||!i||!e.src&&!e.srcset||e.complete||m(e,n.errorClass))&&(t=y(e,"lazyunveilread").detail,r&&M.updateElem(e,!0,e.offsetWidth),e._lazyRace=!0,_++,V(e,t,r,o,i))},Z=function(){if(!l){if(o.now()-k<999)return void s(Z,999);var e=x(function(){n.loadMode=3,G()});l=!0,n.loadMode=3,G(),a("scroll",function(){3==n.loadMode&&(n.loadMode=2),e()},!0)}};return{_:function(){k=o.now(),r=t.getElementsByClassName(n.lazyClass),c=t.getElementsByClassName(n.lazyClass+" "+n.preloadClass),O=n.hFac,a("scroll",G,!0),a("resize",G,!0),e.MutationObserver?new MutationObserver(G).observe(i,{childList:!0,subtree:!0,attributes:!0}):(i.addEventListener("DOMNodeInserted",G,!0),i.addEventListener("DOMAttrModified",G,!0),setInterval(G,999)),a("hashchange",G,!0),["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(e){t.addEventListener(e,G,!0)}),/d$|^c/.test(t.readyState)?Z():(a("load",Z),t.addEventListener("DOMContentLoaded",G),s(Z,2e4)),r.length?($(),C._lsFlush()):G()},checkElems:G,unveil:X}}(),M=function(){var e,i=z(function(e,t,n,i){var o,r,a;if(e._lazysizesWidth=i,i+="px",e.setAttribute("sizes",i),u.test(t.nodeName||""))for(o=t.getElementsByTagName("source"),r=0,a=o.length;r<a;r++)o[r].setAttribute("sizes",i);n.detail.dataAttr||b(e,n.detail)}),o=function(e,t,n){var o,r=e.parentNode;r&&(n=k(e,r,n),o=y(e,"lazybeforesizes",{width:n,dataAttr:!!t}),o.defaultPrevented||(n=o.detail.width)&&n!==e._lazysizesWidth&&i(e,r,o,n))},r=function(){var t,n=e.length;if(n)for(t=0;t<n;t++)o(e[t])},s=x(r);return{_:function(){e=t.getElementsByClassName(n.autosizesClass),a("resize",s)},checkElems:s,updateElem:o}}(),T=function(){T.i||(T.i=!0,M._(),E._())};return function(){var t,i={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2};n=e.lazySizesConfig||e.lazysizesConfig||{};for(t in i)t in n||(n[t]=i[t]);e.lazySizesConfig=n,s(function(){n.init&&T()})}(),{cfg:n,autoSizer:M,loader:E,init:T,uP:b,aC:p,rC:h,hC:m,fire:y,gW:k,rAF:C}}}(e,e.document);e.lazySizes=n,"object"==typeof module&&module.exports&&(module.exports=n)}(window),function(){function e(e,t){document.addEventListener?e.addEventListener("scroll",t,!1):e.attachEvent("scroll",t)}function t(e){document.body?e():document.addEventListener?document.addEventListener("DOMContentLoaded",function t(){document.removeEventListener("DOMContentLoaded",t),e()}):document.attachEvent("onreadystatechange",function t(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",t),e())})}function n(e){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(e)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function i(e,t){e.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;left:-999px;white-space:nowrap;font-synthesis:none;font:"+t+";"}function o(e){var t=e.a.offsetWidth,n=t+100;return e.f.style.width=n+"px",e.c.scrollLeft=n,e.b.scrollLeft=e.b.scrollWidth+100,e.g!==t&&(e.g=t,!0)}function r(t,n){function i(){var e=r;o(e)&&e.a.parentNode&&n(e.g)}var r=t;e(t.b,i),e(t.c,i),o(t)}function a(e,t){var n=t||{};this.family=e,this.style=n.style||"normal",this.weight=n.weight||"normal",this.stretch=n.stretch||"normal"}function s(){if(null===f)if(c()&&/Apple/.test(window.navigator.vendor)){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);f=!!e&&603>parseInt(e[1],10)}else f=!1;return f}function c(){return null===m&&(m=!!document.fonts),m}function l(){if(null===g){var e=document.createElement("div");try{e.style.font="condensed 100px sans-serif"}catch(e){}g=""!==e.style.font}return g}function u(e,t){return[e.style,e.weight,l()?e.stretch:"","100px",t].join(" ")}var d=null,f=null,g=null,m=null;a.prototype.load=function(e,o){var a=this,l=e||"BESbswy",f=0,g=o||3e3,m=(new Date).getTime();return new Promise(function(e,o){if(c()&&!s()){var p=new Promise(function(e,t){function n(){(new Date).getTime()-m>=g?t():document.fonts.load(u(a,'"'+a.family+'"'),l).then(function(t){1<=t.length?e():setTimeout(n,25)},function(){t()})}n()}),h=new Promise(function(e,t){f=setTimeout(t,g)});Promise.race([h,p]).then(function(){clearTimeout(f),e(a)},function(){o(a)})}else t(function(){function t(){var t;(t=-1!=v&&-1!=y||-1!=v&&-1!=b||-1!=y&&-1!=b)&&((t=v!=y&&v!=b&&y!=b)||(null===d&&(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),d=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))),t=d&&(v==w&&y==w&&b==w||v==k&&y==k&&b==k||v==C&&y==C&&b==C)),t=!t),t&&(z.parentNode&&z.parentNode.removeChild(z),clearTimeout(f),e(a))}function s(){if((new Date).getTime()-m>=g)z.parentNode&&z.parentNode.removeChild(z),o(a);else{var e=document.hidden;!0!==e&&void 0!==e||(v=c.a.offsetWidth,y=p.a.offsetWidth,b=h.a.offsetWidth,t()),f=setTimeout(s,50)}}var c=new n(l),p=new n(l),h=new n(l),v=-1,y=-1,b=-1,w=-1,k=-1,C=-1,z=document.createElement("div");z.dir="ltr",i(c,u(a,"sans-serif")),i(p,u(a,"serif")),i(h,u(a,"monospace")),z.appendChild(c.a),z.appendChild(p.a),z.appendChild(h.a),document.body.appendChild(z),w=c.a.offsetWidth,k=p.a.offsetWidth,C=h.a.offsetWidth,s(),r(c,function(e){v=e,t()}),i(c,u(a,'"'+a.family+'",sans-serif')),r(p,function(e){y=e,t()}),i(p,u(a,'"'+a.family+'",serif')),r(h,function(e){b=e,t()}),i(h,u(a,'"'+a.family+'",monospace'))})})},"undefined"!=typeof module?module.exports=a:(window.FontFaceObserver=a,window.FontFaceObserver.prototype.load=a.prototype.load)}();var objectFitImages=function(){"use strict";function e(e,t){return"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='"+e+"' height='"+t+"'%3E%3C/svg%3E"}function t(e){if(e.srcset&&!m&&window.picturefill){var t=window.picturefill._;e[t.ns]&&e[t.ns].evaled||t.fillImg(e,{reselect:!0}),e[t.ns].curSrc||(e[t.ns].supported=!1,t.fillImg(e,{reselect:!0})),e.currentSrc=e[t.ns].curSrc||e.src}}function n(e){for(var t,n=getComputedStyle(e).fontFamily,i={};null!==(t=l.exec(n));)i[t[1]]=t[2];return i}function i(t,n,i){var o=e(n||1,i||0);p.call(t,"src")!==o&&h.call(t,"src",o)}function o(e,t){e.naturalWidth?t(e):setTimeout(o,100,e,t)}function r(e){var r=n(e),s=e[c];if(r["object-fit"]=r["object-fit"]||"fill",!s.img){if("fill"===r["object-fit"])return;if(!s.skipTest&&d&&!r["object-position"])return}if(!s.img){s.img=new Image(e.width,e.height),s.img.srcset=p.call(e,"data-ofi-srcset")||e.srcset,s.img.src=p.call(e,"data-ofi-src")||e.src,h.call(e,"data-ofi-src",e.src),e.srcset&&h.call(e,"data-ofi-srcset",e.srcset),i(e,e.naturalWidth||e.width,e.naturalHeight||e.height),e.srcset&&(e.srcset="");try{a(e)}catch(e){window.console&&console.log("http://bit.ly/ofi-old-browser")}}t(s.img),e.style.backgroundImage='url("'+(s.img.currentSrc||s.img.src).replace(/"/g,'\\"')+'")',e.style.backgroundPosition=r["object-position"]||"center",e.style.backgroundRepeat="no-repeat",/scale-down/.test(r["object-fit"])?o(s.img,function(){s.img.naturalWidth>e.width||s.img.naturalHeight>e.height?e.style.backgroundSize="contain":e.style.backgroundSize="auto"}):e.style.backgroundSize=r["object-fit"].replace("none","auto").replace("fill","100% 100%"),o(s.img,function(t){i(e,t.naturalWidth,t.naturalHeight)})}function a(e){var t={get:function(t){return e[c].img[t?t:"src"]},set:function(t,n){return e[c].img[n?n:"src"]=t,h.call(e,"data-ofi-"+n,t),r(e),t}};Object.defineProperty(e,"src",t),Object.defineProperty(e,"currentSrc",{get:function(){return t.get("currentSrc")}}),Object.defineProperty(e,"srcset",{get:function(){return t.get("srcset")},set:function(e){return t.set(e,"srcset")}})}function s(e,t){var n=!v&&!e;if(t=t||{},e=e||"img",f&&!t.skipTest||!g)return!1;"string"==typeof e?e=document.querySelectorAll(e):"length"in e||(e=[e]);for(var i=0;i<e.length;i++)e[i][c]=e[i][c]||{skipTest:t.skipTest},r(e[i]);n&&(document.body.addEventListener("load",function(e){"IMG"===e.target.tagName&&s(e.target,{skipTest:t.skipTest})},!0),v=!0,e="img"),t.watchMQ&&window.addEventListener("resize",s.bind(null,e,{skipTest:t.skipTest}))}var c="bfred-it:object-fit-images",l=/(object-fit|object-position)\s*:\s*([-\w\s%]+)/g,u="undefined"==typeof Image?{style:{"object-position":1}}:new Image,d="object-fit"in u.style,f="object-position"in u.style,g="background-size"in u.style,m="string"==typeof u.currentSrc,p=u.getAttribute,h=u.setAttribute,v=!1;return s.supportsObjectFit=d,s.supportsObjectPosition=f,function(){function e(e,t){return e[c]&&e[c].img&&("src"===t||"srcset"===t)?e[c].img:e}f||(HTMLImageElement.prototype.getAttribute=function(t){return p.call(e(this,t),t)},HTMLImageElement.prototype.setAttribute=function(t,n){return h.call(e(this,t),t,String(n))})}(),s}();!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof module&&module.exports?module.exports=t():e.Rellax=t()}(this,function(){var e=function(t,n){"use strict";var i=Object.create(e.prototype),o=0,r=0,a=[],s=!1,c=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(e){setTimeout(e,1e3/60)};if(i.options={speed:-2,center:!1},n&&Object.keys(n).forEach(function(e){i.options[e]=n[e]}),i.options.speed<-10?i.options.speed=-10:i.options.speed>10&&(i.options.speed=10),t||(t=".rellax"),document.getElementsByClassName(t.replace(".","")))i.elems=document.getElementsByClassName(t.replace(".",""));else{if(document.querySelector(t)===!1)throw new Error("The elements you're trying to select don't exist.");i.elems=querySelector(t)}var l=function(e){var t=e.getAttribute("data-rellax-percentage")||i.options.center?document.body.scrollTop:0,n=t+e.getBoundingClientRect().top,o=e.clientHeight||e.offsetHeight||e.scrollHeight,a=e.getAttribute("data-rellax-percentage")?e.getAttribute("data-rellax-percentage"):(t-n+r)/(o+r);i.options.center&&(a=.5);var s=e.getAttribute("data-rellax-speed")?u(e.getAttribute("data-rellax-speed"),10):i.options.speed;(e.getAttribute("data-rellax-percentage")||i.options.center)&&(s=e.getAttribute("data-rellax-speed")?u(e.getAttribute("data-rellax-speed"),5):u(i.options.speed,5));var c=f(a,s),l=e.style.cssText,d="";if(l.indexOf("transform")>=0){var g=l.indexOf("transform"),m=l.slice(g),p=m.indexOf(";");d=p?" "+m.slice(11,p).replace(/\s/g,""):" "+m.slice(11).replace(/\s/g,"")}return{base:c,top:n,height:o,speed:s,style:l,transform:d}},u=function(e,t){return e<-t?-t:e>t?t:e},d=function(){var e=o;return o=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop,e!=o},f=function(e,t){var n=t*(100*(1-e));return Math.round(n)},g=function(){d()&&s===!1&&m(),c(g)},m=function(){for(var e=0;e<i.elems.length;e++){var t=(o-a[e].top+r)/(a[e].height+r),n=f(t,a[e].speed)-a[e].base,s=" translate3d(0,"+n+"px,0)"+a[e].transform;i.elems[e].style.cssText=a[e].style+"-webkit-transform:"+s+";-moz-transform:"+s+";transform:"+s+";"}};return i.destroy=function(){for(var e=0;e<i.elems.length;e++)i.elems[e].style.cssText=a[e].style;s=!0},function(){r=window.innerHeight,d();for(var e=0;e<i.elems.length;e++){var t=l(i.elems[e]);a.push(t)}window.addEventListener("resize",function(){m()}),g(),m()}(),i};return e}),function(){"use strict";function e(e){return e.valueOf()/M-.5+T}function t(e){return new Date((e+.5-T)*M)}function n(t){return e(t)-S}function i(e,t){return A(w(e)*k(L)-C(t)*w(L),k(e))}function o(e,t){return z(w(t)*k(L)+k(t)*w(L)*w(e))}function r(e,t,n){return A(w(e),k(e)*w(t)-C(n)*k(t))}function a(e,t,n){return z(w(t)*w(n)+k(t)*k(n)*k(e))}function s(e,t){return E*(280.16+360.9856235*e)-t}function c(e){return e<0&&(e=0),2967e-7/Math.tan(e+.00312536/(e+.08901179))}function l(e){return E*(357.5291+.98560028*e)}function u(e){return e+E*(1.9148*w(e)+.02*w(2*e)+3e-4*w(3*e))+102.9372*E+b}function d(e){var t=l(e),n=u(t);return{dec:o(n,0),ra:i(n,0)}}function f(e,t){return Math.round(e-j-t/(2*b))}function g(e,t,n){return j+(e+t)/(2*b)+n}function m(e,t,n){return S+e+.0053*w(t)-.0069*w(2*n)}function p(e,t,n){return x((w(e)-w(t)*w(n))/(k(t)*k(n)))}function h(e,t,n,i,o,r,a){return m(g(p(e,n,i),t,o),r,a)}function v(e){var t=E*(218.316+13.176396*e),n=E*(134.963+13.064993*e),r=E*(93.272+13.22935*e),a=t+6.289*E*w(n),s=5.128*E*w(r),c=385001-20905*k(n);return{ra:i(a,s),dec:o(a,s),dist:c}}function y(e,t){return new Date(e.valueOf()+t*M/24)}var b=Math.PI,w=Math.sin,k=Math.cos,C=Math.tan,z=Math.asin,A=Math.atan2,x=Math.acos,E=b/180,M=864e5,T=2440588,S=2451545,L=23.4397*E,N={};N.getPosition=function(e,t,i){var o=E*-i,c=E*t,l=n(e),u=d(l),f=s(l,o)-u.ra;return{azimuth:r(f,c,u.dec),altitude:a(f,c,u.dec)}};var D=N.times=[[-.833,"sunrise","sunset"],[-.3,"sunriseEnd","sunsetStart"],[-6,"dawn","dusk"],[-12,"nauticalDawn","nauticalDusk"],[-18,"nightEnd","night"],[6,"goldenHourEnd","goldenHour"]];N.addTime=function(e,t,n){D.push([e,t,n])};var j=9e-4;N.getTimes=function(e,i,r){var a,s,c,d,p,v=E*-r,y=E*i,b=n(e),w=f(b,v),k=g(0,v,w),C=l(k),z=u(C),A=o(z,0),x=m(k,C,z),M={solarNoon:t(x),nadir:t(x-.5)};for(a=0,s=D.length;a<s;a+=1)c=D[a],d=h(c[0]*E,v,y,A,w,C,z),p=x-(d-x),M[c[1]]=t(p),M[c[2]]=t(d);return M},N.getMoonPosition=function(e,t,i){var o=E*-i,l=E*t,u=n(e),d=v(u),f=s(u,o)-d.ra,g=a(f,l,d.dec),m=A(w(f),C(l)*k(d.dec)-w(d.dec)*k(f));return g+=c(g),{azimuth:r(f,l,d.dec),altitude:g,distance:d.dist,parallacticAngle:m}},N.getMoonIllumination=function(e){var t=n(e||new Date),i=d(t),o=v(t),r=x(w(i.dec)*w(o.dec)+k(i.dec)*k(o.dec)*k(i.ra-o.ra)),a=A(149598e3*w(r),o.dist-149598e3*k(r)),s=A(k(i.dec)*w(i.ra-o.ra),w(i.dec)*k(o.dec)-k(i.dec)*w(o.dec)*k(i.ra-o.ra));return{fraction:(1+k(a))/2,phase:.5+.5*a*(s<0?-1:1)/Math.PI,angle:s}},N.getMoonTimes=function(e,t,n,i){var o=new Date(e);i?o.setUTCHours(0,0,0,0):o.setHours(0,0,0,0);for(var r,a,s,c,l,u,d,f,g,m,p,h,v,b=.133*E,w=N.getMoonPosition(o,t,n).altitude-b,k=1;k<=24&&(r=N.getMoonPosition(y(o,k),t,n).altitude-b,a=N.getMoonPosition(y(o,k+1),t,n).altitude-b,l=(w+a)/2-r,u=(a-w)/2,d=-u/(2*l),f=(l*d+u)*d+r,g=u*u-4*l*r,m=0,g>=0&&(v=Math.sqrt(g)/(2*Math.abs(l)),p=d-v,h=d+v,Math.abs(p)<=1&&m++,Math.abs(h)<=1&&m++,p<-1&&(p=h)),1===m?w<0?s=k+p:c=k+p:2===m&&(s=k+(f<0?h:p),c=k+(f<0?p:h)),!s||!c);k+=2)w=a;var C={};return s&&(C.rise=y(o,s)),c&&(C.set=y(o,c)),s||c||(C[f>0?"alwaysUp":"alwaysDown"]=!0),C},"object"==typeof exports&&"undefined"!=typeof module?module.exports=N:"function"==typeof define&&define.amd?define(N):window.SunCalc=N}();