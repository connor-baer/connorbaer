function setCookie(e,t,n){var i=new Date,o=new Date;null!=n&&0!==n||(n=1),o.setTime(i.getTime()+864e5*n),document.cookie=e+"="+escape(t)+";expires="+o.toGMTString()}function getCookie(e){var t="; "+document.cookie,n=t.split("; "+e+"=");if(2===n.length)return n.pop().split(";").shift()}function toggleDarkness(e){void 0===e&&(e="true"!==getCookie("darkMode")),setCookie("darkMode",e,1),location.reload()}function joinTheDarkSide(e,t){var n=new Date,i=Number(n.getHours()+""+("0"+n.getMinutes()).slice(-2)),o=null!==getCookie("darkMode")&&getCookie("darkMode");if(i<e||i>t){var r=null!==getCookie("askedDark")&&getCookie("askedDark");o||r||(setCookie("askedDark",!0,.25),toggleDarkness(confirm("Looks like it‚Äôs getting late! Want to turn on dark mode?")))}else{var s=null!==getCookie("askedLight")&&getCookie("askedLight");o&&!s&&(setCookie("askedLight",!0,.25),toggleDarkness(confirm("Looks like the sun is shining! Want to turn off dark mode?")))}console.log("üïê "+i+" | üòé "+o),setTimeout(joinTheDarkSide,12e4,e,t)}function sunTimes(e){var t=700,n=2e3;if(e){var i=e.coords.latitude,o=e.coords.longitude,r=SunCalc.getTimes(new Date,i,o);t=Number(r.sunrise.getHours()+""+r.sunrise.getMinutes()),n=Number(r.sunset.getHours()+""+r.sunset.getMinutes())}console.log("‚òÄÔ∏è "+t+" | üåô "+n),joinTheDarkSide(t,n)}!function(e,t){var n=function(e,t){"use strict";if(t.getElementsByClassName){var n,i=t.documentElement,o=e.Date,r=e.HTMLPictureElement,s=e.addEventListener,a=e.setTimeout,c=e.requestAnimationFrame||a,u=e.requestIdleCallback,l=/^picture$/i,d=["load","error","lazyincluded","_lazyloaded"],f={},m=Array.prototype.forEach,g=function(e,t){return f[t]||(f[t]=new RegExp("(\\s|^)"+t+"(\\s|$)")),f[t].test(e.getAttribute("class")||"")&&f[t]},h=function(e,t){g(e,t)||e.setAttribute("class",(e.getAttribute("class")||"").trim()+" "+t)},p=function(e,t){var n;(n=g(e,t))&&e.setAttribute("class",(e.getAttribute("class")||"").replace(n," "))},v=function(e,t,n){var i=n?"addEventListener":"removeEventListener";n&&v(e,t),d.forEach(function(n){e[i](n,t)})},y=function(e,n,i,o,r){var s=t.createEvent("CustomEvent");return s.initCustomEvent(n,!o,!r,i||{}),e.dispatchEvent(s),s},w=function(t,i){var o;!r&&(o=e.picturefill||n.pf)?o({reevaluate:!0,elements:[t]}):i&&i.src&&(t.src=i.src)},b=function(e,t){return(getComputedStyle(e,null)||{})[t]},k=function(e,t,i){for(i=i||e.offsetWidth;i<n.minSize&&t&&!e._lazysizesWidth;)i=t.offsetWidth,t=t.parentNode;return i},C=function(){var e,n,i=[],o=[],r=i,s=function(){var t=r;for(r=i.length?o:i,e=!0,n=!1;t.length;)t.shift()();e=!1},u=function(i,o){e&&!o?i.apply(this,arguments):(r.push(i),n||(n=!0,(t.hidden?a:c)(s)))};return u._lsFlush=s,u}(),z=function(e,t){return t?function(){C(e)}:function(){var t=this,n=arguments;C(function(){e.apply(t,n)})}},E=function(e){var t,n=0,i=666,r=function(){t=!1,n=o.now(),e()},s=u?function(){u(r,{timeout:i}),666!==i&&(i=666)}:z(function(){a(r)},!0);return function(e){var r;(e=e===!0)&&(i=44),t||(t=!0,r=125-(o.now()-n),r<0&&(r=0),e||r<9&&u?s():a(s,r))}},A=function(e){var t,n,i=function(){t=null,e()},r=function(){var e=o.now()-n;e<99?a(r,99-e):(u||i)(i)};return function(){n=o.now(),t||(t=a(r,99))}},x=function(){var r,c,u,d,f,k,x,M,S,L,D,j,N,W,O,P=/^img$/i,F=/^iframe$/i,I="onscroll"in e&&!/glebot/.test(navigator.userAgent),H=0,_=0,R=-1,B=function(e){_--,e&&e.target&&v(e.target,B),(!e||_<0||!e.target)&&(_=0)},q=function(e,n){var o,r=e,s="hidden"==b(t.body,"visibility")||"hidden"!=b(e,"visibility");for(S-=n,j+=n,L-=n,D+=n;s&&(r=r.offsetParent)&&r!=t.body&&r!=i;)(s=(b(r,"opacity")||1)>0)&&"visible"!=b(r,"overflow")&&(o=r.getBoundingClientRect(),s=D>o.left&&L<o.right&&j>o.top-1&&S<o.bottom+1);return s},$=function(){var e,o,s,a,l,d,m,g,h;if((f=n.loadMode)&&_<8&&(e=r.length)){o=0,R++,null==W&&("expand"in n||(n.expand=i.clientHeight>500&&i.clientWidth>500?500:370),N=n.expand,W=N*n.expFactor),H<W&&_<1&&R>2&&f>2&&!t.hidden?(H=W,R=0):H=f>1&&R>1&&_<6?N:0;for(;o<e;o++)if(r[o]&&!r[o]._lazyRace)if(I)if((g=r[o].getAttribute("data-expand"))&&(d=1*g)||(d=H),h!==d&&(x=innerWidth+d*O,M=innerHeight+d,m=d*-1,h=d),s=r[o].getBoundingClientRect(),(j=s.bottom)>=m&&(S=s.top)<=M&&(D=s.right)>=m*O&&(L=s.left)<=x&&(j||D||L||S)&&(u&&_<3&&!g&&(f<3||R<4)||q(r[o],d))){if(X(r[o]),l=!0,_>9)break}else!l&&u&&!a&&_<4&&R<4&&f>2&&(c[0]||n.preloadAfterLoad)&&(c[0]||!g&&(j||D||L||S||"auto"!=r[o].getAttribute(n.sizesAttr)))&&(a=c[0]||r[o]);else X(r[o]);a&&!l&&X(a)}},Y=E($),G=function(e){h(e.target,n.loadedClass),p(e.target,n.loadingClass),v(e.target,U)},K=z(G),U=function(e){K({target:e.target})},Q=function(e,t){try{e.contentWindow.location.replace(t)}catch(n){e.src=t}},J=function(e){var t,i,o=e.getAttribute(n.srcsetAttr);(t=n.customMedia[e.getAttribute("data-media")||e.getAttribute("media")])&&e.setAttribute("media",t),o&&e.setAttribute("srcset",o),t&&(i=e.parentNode,i.insertBefore(e.cloneNode(),e),i.removeChild(e))},V=z(function(e,t,i,o,r){var s,c,u,f,g,b;(g=y(e,"lazybeforeunveil",t)).defaultPrevented||(o&&(i?h(e,n.autosizesClass):e.setAttribute("sizes",o)),c=e.getAttribute(n.srcsetAttr),s=e.getAttribute(n.srcAttr),r&&(u=e.parentNode,f=u&&l.test(u.nodeName||"")),b=t.firesLoad||"src"in e&&(c||s||f),g={target:e},b&&(v(e,B,!0),clearTimeout(d),d=a(B,2500),h(e,n.loadingClass),v(e,U,!0)),f&&m.call(u.getElementsByTagName("source"),J),c?e.setAttribute("srcset",c):s&&!f&&(F.test(e.nodeName)?Q(e,s):e.src=s),(c||f)&&w(e,{src:s})),e._lazyRace&&delete e._lazyRace,p(e,n.lazyClass),C(function(){(!b||e.complete&&e.naturalWidth>1)&&(b?B(g):_--,G(g))},!0)}),X=function(e){var t,i=P.test(e.nodeName),o=i&&(e.getAttribute(n.sizesAttr)||e.getAttribute("sizes")),r="auto"==o;(!r&&u||!i||!e.src&&!e.srcset||e.complete||g(e,n.errorClass))&&(t=y(e,"lazyunveilread").detail,r&&T.updateElem(e,!0,e.offsetWidth),e._lazyRace=!0,_++,V(e,t,r,o,i))},Z=function(){if(!u){if(o.now()-k<999)return void a(Z,999);var e=A(function(){n.loadMode=3,Y()});u=!0,n.loadMode=3,Y(),s("scroll",function(){3==n.loadMode&&(n.loadMode=2),e()},!0)}};return{_:function(){k=o.now(),r=t.getElementsByClassName(n.lazyClass),c=t.getElementsByClassName(n.lazyClass+" "+n.preloadClass),O=n.hFac,s("scroll",Y,!0),s("resize",Y,!0),e.MutationObserver?new MutationObserver(Y).observe(i,{childList:!0,subtree:!0,attributes:!0}):(i.addEventListener("DOMNodeInserted",Y,!0),i.addEventListener("DOMAttrModified",Y,!0),setInterval(Y,999)),s("hashchange",Y,!0),["focus","mouseover","click","load","transitionend","animationend","webkitAnimationEnd"].forEach(function(e){t.addEventListener(e,Y,!0)}),/d$|^c/.test(t.readyState)?Z():(s("load",Z),t.addEventListener("DOMContentLoaded",Y),a(Z,2e4)),r.length?($(),C._lsFlush()):Y()},checkElems:Y,unveil:X}}(),T=function(){var e,i=z(function(e,t,n,i){var o,r,s;if(e._lazysizesWidth=i,i+="px",e.setAttribute("sizes",i),l.test(t.nodeName||""))for(o=t.getElementsByTagName("source"),r=0,s=o.length;r<s;r++)o[r].setAttribute("sizes",i);n.detail.dataAttr||w(e,n.detail)}),o=function(e,t,n){var o,r=e.parentNode;r&&(n=k(e,r,n),o=y(e,"lazybeforesizes",{width:n,dataAttr:!!t}),o.defaultPrevented||(n=o.detail.width)&&n!==e._lazysizesWidth&&i(e,r,o,n))},r=function(){var t,n=e.length;if(n)for(t=0;t<n;t++)o(e[t])},a=A(r);return{_:function(){e=t.getElementsByClassName(n.autosizesClass),s("resize",a)},checkElems:a,updateElem:o}}(),M=function(){M.i||(M.i=!0,T._(),x._())};return function(){var t,i={lazyClass:"lazyload",loadedClass:"lazyloaded",loadingClass:"lazyloading",preloadClass:"lazypreload",errorClass:"lazyerror",autosizesClass:"lazyautosizes",srcAttr:"data-src",srcsetAttr:"data-srcset",sizesAttr:"data-sizes",minSize:40,customMedia:{},init:!0,expFactor:1.5,hFac:.8,loadMode:2};n=e.lazySizesConfig||e.lazysizesConfig||{};for(t in i)t in n||(n[t]=i[t]);e.lazySizesConfig=n,a(function(){n.init&&M()})}(),{cfg:n,autoSizer:T,loader:x,init:M,uP:w,aC:h,rC:p,hC:g,fire:y,gW:k,rAF:C}}}(e,e.document);e.lazySizes=n,"object"==typeof module&&module.exports&&(module.exports=n)}(window),function(){function e(e,t){document.addEventListener?e.addEventListener("scroll",t,!1):e.attachEvent("scroll",t)}function t(e){document.body?e():document.addEventListener?document.addEventListener("DOMContentLoaded",function t(){document.removeEventListener("DOMContentLoaded",t),e()}):document.attachEvent("onreadystatechange",function t(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",t),e())})}function n(e){this.a=document.createElement("div"),this.a.setAttribute("aria-hidden","true"),this.a.appendChild(document.createTextNode(e)),this.b=document.createElement("span"),this.c=document.createElement("span"),this.h=document.createElement("span"),this.f=document.createElement("span"),this.g=-1,this.b.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.c.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.f.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.h.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.b.appendChild(this.h),this.c.appendChild(this.f),this.a.appendChild(this.b),this.a.appendChild(this.c)}function i(e,t){e.a.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;left:-999px;white-space:nowrap;font-synthesis:none;font:"+t+";"}function o(e){var t=e.a.offsetWidth,n=t+100;return e.f.style.width=n+"px",e.c.scrollLeft=n,e.b.scrollLeft=e.b.scrollWidth+100,e.g!==t&&(e.g=t,!0)}function r(t,n){function i(){var e=r;o(e)&&e.a.parentNode&&n(e.g)}var r=t;e(t.b,i),e(t.c,i),o(t)}function s(e,t){var n=t||{};this.family=e,this.style=n.style||"normal",this.weight=n.weight||"normal",this.stretch=n.stretch||"normal"}function a(){if(null===f)if(c()&&/Apple/.test(window.navigator.vendor)){var e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent);f=!!e&&603>parseInt(e[1],10)}else f=!1;return f}function c(){return null===g&&(g=!!document.fonts),g}function u(){if(null===m){var e=document.createElement("div");try{e.style.font="condensed 100px sans-serif"}catch(e){}m=""!==e.style.font}return m}function l(e,t){return[e.style,e.weight,u()?e.stretch:"","100px",t].join(" ")}var d=null,f=null,m=null,g=null;s.prototype.load=function(e,o){var s=this,u=e||"BESbswy",f=0,m=o||3e3,g=(new Date).getTime();return new Promise(function(e,o){if(c()&&!a()){var h=new Promise(function(e,t){function n(){(new Date).getTime()-g>=m?t():document.fonts.load(l(s,'"'+s.family+'"'),u).then(function(t){1<=t.length?e():setTimeout(n,25)},function(){t()})}n()}),p=new Promise(function(e,t){f=setTimeout(t,m)});Promise.race([p,h]).then(function(){clearTimeout(f),e(s)},function(){o(s)})}else t(function(){function t(){var t;(t=-1!=v&&-1!=y||-1!=v&&-1!=w||-1!=y&&-1!=w)&&((t=v!=y&&v!=w&&y!=w)||(null===d&&(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),d=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))),t=d&&(v==b&&y==b&&w==b||v==k&&y==k&&w==k||v==C&&y==C&&w==C)),t=!t),t&&(z.parentNode&&z.parentNode.removeChild(z),clearTimeout(f),e(s))}function a(){if((new Date).getTime()-g>=m)z.parentNode&&z.parentNode.removeChild(z),o(s);else{var e=document.hidden;!0!==e&&void 0!==e||(v=c.a.offsetWidth,y=h.a.offsetWidth,w=p.a.offsetWidth,t()),f=setTimeout(a,50)}}var c=new n(u),h=new n(u),p=new n(u),v=-1,y=-1,w=-1,b=-1,k=-1,C=-1,z=document.createElement("div");z.dir="ltr",i(c,l(s,"sans-serif")),i(h,l(s,"serif")),i(p,l(s,"monospace")),z.appendChild(c.a),z.appendChild(h.a),z.appendChild(p.a),document.body.appendChild(z),b=c.a.offsetWidth,k=h.a.offsetWidth,C=p.a.offsetWidth,a(),r(c,function(e){v=e,t()}),i(c,l(s,'"'+s.family+'",sans-serif')),r(h,function(e){y=e,t()}),i(h,l(s,'"'+s.family+'",serif')),r(p,function(e){w=e,t()}),i(p,l(s,'"'+s.family+'",monospace'))})})},"undefined"!=typeof module?module.exports=s:(window.FontFaceObserver=s,window.FontFaceObserver.prototype.load=s.prototype.load)}();var objectFitImages=function(){"use strict";function e(e,t){return"data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='"+e+"' height='"+t+"'%3E%3C/svg%3E"}function t(e){if(e.srcset&&!g&&window.picturefill){var t=window.picturefill._;e[t.ns]&&e[t.ns].evaled||t.fillImg(e,{reselect:!0}),e[t.ns].curSrc||(e[t.ns].supported=!1,t.fillImg(e,{reselect:!0})),e.currentSrc=e[t.ns].curSrc||e.src}}function n(e){for(var t,n=getComputedStyle(e).fontFamily,i={};null!==(t=u.exec(n));)i[t[1]]=t[2];return i}function i(t,n,i){var o=e(n||1,i||0);h.call(t,"src")!==o&&p.call(t,"src",o)}function o(e,t){e.naturalWidth?t(e):setTimeout(o,100,e,t)}function r(e){var r=n(e),a=e[c];if(r["object-fit"]=r["object-fit"]||"fill",!a.img){if("fill"===r["object-fit"])return;if(!a.skipTest&&d&&!r["object-position"])return}if(!a.img){a.img=new Image(e.width,e.height),a.img.srcset=h.call(e,"data-ofi-srcset")||e.srcset,a.img.src=h.call(e,"data-ofi-src")||e.src,p.call(e,"data-ofi-src",e.src),e.srcset&&p.call(e,"data-ofi-srcset",e.srcset),i(e,e.naturalWidth||e.width,e.naturalHeight||e.height),e.srcset&&(e.srcset="");try{s(e)}catch(e){window.console&&console.log("http://bit.ly/ofi-old-browser")}}t(a.img),e.style.backgroundImage='url("'+(a.img.currentSrc||a.img.src).replace(/"/g,'\\"')+'")',e.style.backgroundPosition=r["object-position"]||"center",e.style.backgroundRepeat="no-repeat",/scale-down/.test(r["object-fit"])?o(a.img,function(){a.img.naturalWidth>e.width||a.img.naturalHeight>e.height?e.style.backgroundSize="contain":e.style.backgroundSize="auto"}):e.style.backgroundSize=r["object-fit"].replace("none","auto").replace("fill","100% 100%"),o(a.img,function(t){i(e,t.naturalWidth,t.naturalHeight)})}function s(e){var t={get:function(t){return e[c].img[t?t:"src"]},set:function(t,n){return e[c].img[n?n:"src"]=t,p.call(e,"data-ofi-"+n,t),r(e),t}};Object.defineProperty(e,"src",t),Object.defineProperty(e,"currentSrc",{get:function(){return t.get("currentSrc")}}),Object.defineProperty(e,"srcset",{get:function(){return t.get("srcset")},set:function(e){return t.set(e,"srcset")}})}function a(e,t){var n=!v&&!e;if(t=t||{},e=e||"img",f&&!t.skipTest||!m)return!1;"string"==typeof e?e=document.querySelectorAll(e):"length"in e||(e=[e]);for(var i=0;i<e.length;i++)e[i][c]=e[i][c]||{skipTest:t.skipTest},r(e[i]);n&&(document.body.addEventListener("load",function(e){"IMG"===e.target.tagName&&a(e.target,{skipTest:t.skipTest})},!0),v=!0,e="img"),t.watchMQ&&window.addEventListener("resize",a.bind(null,e,{skipTest:t.skipTest}))}var c="bfred-it:object-fit-images",u=/(object-fit|object-position)\s*:\s*([-\w\s%]+)/g,l="undefined"==typeof Image?{style:{"object-position":1}}:new Image,d="object-fit"in l.style,f="object-position"in l.style,m="background-size"in l.style,g="string"==typeof l.currentSrc,h=l.getAttribute,p=l.setAttribute,v=!1;return a.supportsObjectFit=d,a.supportsObjectPosition=f,function(){function e(e,t){return e[c]&&e[c].img&&("src"===t||"srcset"===t)?e[c].img:e}f||(HTMLImageElement.prototype.getAttribute=function(t){return h.call(e(this,t),t)},HTMLImageElement.prototype.setAttribute=function(t,n){return p.call(e(this,t),t,String(n))})}(),a}();!function(e,t){"function"==typeof define&&define.amd?define([],t):"object"==typeof module&&module.exports?module.exports=t():e.Rellax=t()}(this,function(){var e=function(t,n){"use strict";var i=Object.create(e.prototype),o=0,r=0,s=[],a=!1,c=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame||window.oRequestAnimationFrame||function(e){setTimeout(e,1e3/60)},u=window.transformProp||function(){var e=document.createElement("div");if(null==e.style.transform){var t=["Webkit","Moz","ms"];for(var n in t)if(void 0!==e.style[t[n]+"Transform"])return t[n]+"Transform"}return"transform"}(),l=function(e,t,n){return e<=t?t:e>=n?n:e};i.options={speed:-2,center:!1,round:!0},n&&Object.keys(n).forEach(function(e){i.options[e]=n[e]}),i.options.speed=l(i.options.speed,-10,10),t||(t=".rellax");var d=document.querySelectorAll(t);if(!(d.length>0))throw new Error("The elements you're trying to select don't exist.");i.elems=d;var f=function(e){var t=e.dataset.rellaxPercentage,n=e.dataset.rellaxSpeed,o=t||i.options.center?window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop:0,s=o+e.getBoundingClientRect().top,a=e.clientHeight||e.offsetHeight||e.scrollHeight,c=t?t:(o-s+r)/(a+r);i.options.center&&(c=.5);var u=n?l(n,-10,10):i.options.speed;(t||i.options.center)&&(u=l(n||i.options.speed,-5,5));var d=g(c,u),f=e.style.cssText,m="";if(f.indexOf("transform")>=0){var h=f.indexOf("transform"),p=f.slice(h),v=p.indexOf(";");m=v?" "+p.slice(11,v).replace(/\s/g,""):" "+p.slice(11).replace(/\s/g,"")}return{base:d,top:s,height:a,speed:u,style:f,transform:m}},m=function(){var e=o;return o=void 0!==window.pageYOffset?window.pageYOffset:(document.documentElement||document.body.parentNode||document.body).scrollTop,e!=o},g=function(e,t){var n=t*(100*(1-e));return i.options.round?Math.round(10*n)/10:n},h=function(){m()&&a===!1&&p(),c(h)},p=function(){for(var e=0;e<i.elems.length;e++){var t=(o-s[e].top+r)/(s[e].height+r),n=g(t,s[e].speed)-s[e].base,a="translate3d(0,"+n+"px,0) "+s[e].transform;i.elems[e].style[u]=a}};return i.destroy=function(){for(var e=0;e<i.elems.length;e++)i.elems[e].style.cssText=s[e].style;a=!0},function(){r=window.innerHeight,m();for(var e=0;e<i.elems.length;e++){var t=f(i.elems[e]);s.push(t)}window.addEventListener("resize",function(){p()}),h(),p()}(),i};return e}),function(){"use strict";function e(e){return e.valueOf()/T-.5+M}function t(e){return new Date((e+.5-M)*T)}function n(t){return e(t)-S}function i(e,t){return E(b(e)*k(L)-C(t)*b(L),k(e))}function o(e,t){return z(b(t)*k(L)+k(t)*b(L)*b(e))}function r(e,t,n){return E(b(e),k(e)*b(t)-C(n)*k(t))}function s(e,t,n){return z(b(t)*b(n)+k(t)*k(n)*k(e))}function a(e,t){return x*(280.16+360.9856235*e)-t}function c(e){return e<0&&(e=0),2967e-7/Math.tan(e+.00312536/(e+.08901179))}function u(e){return x*(357.5291+.98560028*e)}function l(e){return e+x*(1.9148*b(e)+.02*b(2*e)+3e-4*b(3*e))+102.9372*x+w}function d(e){var t=u(e),n=l(t);return{dec:o(n,0),ra:i(n,0)}}function f(e,t){return Math.round(e-N-t/(2*w))}function m(e,t,n){return N+(e+t)/(2*w)+n}function g(e,t,n){return S+e+.0053*b(t)-.0069*b(2*n)}function h(e,t,n){return A((b(e)-b(t)*b(n))/(k(t)*k(n)))}function p(e,t,n,i,o,r,s){return g(m(h(e,n,i),t,o),r,s)}function v(e){var t=x*(218.316+13.176396*e),n=x*(134.963+13.064993*e),r=x*(93.272+13.22935*e),s=t+6.289*x*b(n),a=5.128*x*b(r),c=385001-20905*k(n);return{ra:i(s,a),dec:o(s,a),dist:c}}function y(e,t){return new Date(e.valueOf()+t*T/24)}var w=Math.PI,b=Math.sin,k=Math.cos,C=Math.tan,z=Math.asin,E=Math.atan2,A=Math.acos,x=w/180,T=864e5,M=2440588,S=2451545,L=23.4397*x,D={};D.getPosition=function(e,t,i){var o=x*-i,c=x*t,u=n(e),l=d(u),f=a(u,o)-l.ra;return{azimuth:r(f,c,l.dec),altitude:s(f,c,l.dec)}};var j=D.times=[[-.833,"sunrise","sunset"],[-.3,"sunriseEnd","sunsetStart"],[-6,"dawn","dusk"],[-12,"nauticalDawn","nauticalDusk"],[-18,"nightEnd","night"],[6,"goldenHourEnd","goldenHour"]];D.addTime=function(e,t,n){j.push([e,t,n])};var N=9e-4;D.getTimes=function(e,i,r){var s,a,c,d,h,v=x*-r,y=x*i,w=n(e),b=f(w,v),k=m(0,v,b),C=u(k),z=l(C),E=o(z,0),A=g(k,C,z),T={solarNoon:t(A),nadir:t(A-.5)};for(s=0,a=j.length;s<a;s+=1)c=j[s],d=p(c[0]*x,v,y,E,b,C,z),h=A-(d-A),T[c[1]]=t(h),T[c[2]]=t(d);return T},D.getMoonPosition=function(e,t,i){var o=x*-i,u=x*t,l=n(e),d=v(l),f=a(l,o)-d.ra,m=s(f,u,d.dec),g=E(b(f),C(u)*k(d.dec)-b(d.dec)*k(f));return m+=c(m),{azimuth:r(f,u,d.dec),altitude:m,distance:d.dist,parallacticAngle:g}},D.getMoonIllumination=function(e){var t=n(e||new Date),i=d(t),o=v(t),r=A(b(i.dec)*b(o.dec)+k(i.dec)*k(o.dec)*k(i.ra-o.ra)),s=E(149598e3*b(r),o.dist-149598e3*k(r)),a=E(k(i.dec)*b(i.ra-o.ra),b(i.dec)*k(o.dec)-k(i.dec)*b(o.dec)*k(i.ra-o.ra));return{fraction:(1+k(s))/2,phase:.5+.5*s*(a<0?-1:1)/Math.PI,angle:a}},D.getMoonTimes=function(e,t,n,i){var o=new Date(e);i?o.setUTCHours(0,0,0,0):o.setHours(0,0,0,0);for(var r,s,a,c,u,l,d,f,m,g,h,p,v,w=.133*x,b=D.getMoonPosition(o,t,n).altitude-w,k=1;k<=24&&(r=D.getMoonPosition(y(o,k),t,n).altitude-w,s=D.getMoonPosition(y(o,k+1),t,n).altitude-w,u=(b+s)/2-r,l=(s-b)/2,d=-l/(2*u),f=(u*d+l)*d+r,m=l*l-4*u*r,g=0,m>=0&&(v=Math.sqrt(m)/(2*Math.abs(u)),h=d-v,p=d+v,Math.abs(h)<=1&&g++,Math.abs(p)<=1&&g++,h<-1&&(h=p)),1===g?b<0?a=k+h:c=k+h:2===g&&(a=k+(f<0?p:h),c=k+(f<0?h:p)),!a||!c);k+=2)b=s;var C={};return a&&(C.rise=y(o,a)),c&&(C.set=y(o,c)),a||c||(C[f>0?"alwaysUp":"alwaysDown"]=!0),C},"object"==typeof exports&&"undefined"!=typeof module?module.exports=D:"function"==typeof define&&define.amd?define(D):window.SunCalc=D}();